nested loop and function prototype
